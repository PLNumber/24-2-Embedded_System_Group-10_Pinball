# Pinball
임베디드 시스템 팀 프로젝트 10조 Pinball과 관련된 GitHub 저장소입니다.



핀볼 프로그램은 크게 소프트웨어와 하드웨어 두 부분으로 나뉩니다.

먼저 하드웨어 부분의 경우, 이 프로젝트를 위해 사용된 센서의 경우 SR04 초음파센서 1개, LED 1개, 서보모터 3개, 블루투스 스피커,택트 스위치 1개, 1602 LCD 1개, 수동 버저 1개입니다. 
총 2대의 라즈베리파이를 사용하였으며, 두 대 모두 학교에서 제공하는 키트에  제공되는 GPIO 확장 키트를 장착하였습니다.
그 외 게임판을 위해서 고무줄 여러개, 장애물과 플리퍼를 구성하기 위한 우드락, 나무젓가락 여러개와 택배상자를 사용하였으며, 게임용 공으로 가벼운 구슬을 사용하였습니다.

소프트웨어적인 부분으로는 시작점이자 게임의 대부분 기능이 담긴 main.c코드와 저전력 문제와 선 부족 문제로 인해 다른 Pi에서 구동되도록 별도로 분리시킨 servo.c로 구성되어 있습니다.



게임 방식은 다음과 같습니다.

1. 발사대에 있는 나무젓가락을 뒤로 당긴 후 놓아서 공을 발사합니다.
2. 발사된 공이 게임판 좌측에 있는 초음파 센서를 지날때마다 점수가 오릅니다.
3. 공이 플리퍼 아래로 떨어지면 게임이 종료됩니다.
4. 노란색 택트 스위치를 눌러서 점수를 초기화하고 음악을 처음부터 다시 재생합니다.


게임이 다소 단조롭게 구성이 되어있다 느끼실 수 있습니다. 그 이유는 다음과 같습니다.
1. 여러 센서를 사용하려 했으나 게임판의 크기에 대해서 어느정도 현실적인 고려를 할 수 밖에 없었습니다. 너무 큰 판은 저희가 보관하는 부분에 있어서 애로사항이 컸습니다.
2. 충격 센서를 사용해서 특정 충격 부분에서 충격(이 게임의 경우 공이 부딪히는 경우)감지시 점수가 오르도록 해 보았으나 외부적인 충격에 게임에 개입되는 부분이 있어왔고, 이것을 구분시키도록 하는 것이 불가능해서 제외했습니다.
3. 초기 계획은 초음파 센서 3개를 사용하는 것 이였습니다. 이를 통해서 점수 획득가능한 범위를 넓히려 했으나, 초음파 센서 특성상 음파로 공의 이동을 감지하기 때문에 1번에 제시된 게임 판 문제도 있었고, 의도치않은 음파가 들어와 게임 점수가 변하는 문제가 있어와 이를 관리하는것이 어려워 1개로 줄이게 되었습니다. 다만 1개로 줄이고 나름의 신호무시절차를 짜 봤으나 특성 자체를 무시할 순 없어서 점수 오작동 부분은 여전히 존재합니다.

공을 발사하는 매커니즘과 플리퍼의 경우 나무젓과락과 고무줄을 이용합니다. 이 부분 역시 라즈베리파이를 사용해서 전자적인 방식으로 구현하려 했으나, 저희가 의도하는 충분한 힘을 내려면 별도의 모터 구입이 필요했는데, 생각보다 가격이 저렴하지 않아서 직접적으로 발사대를 만들게 되었습니다.








최종발표에 사용된 프레젠테이션 파일은 
https://1drv.ms/p/c/b826fcfcce360823/EfU9jbzG73ZIri-toj1JGh0BeaA6BwlzsAelqIpkgt1cMQ?e=Nrdrhc
이 링크를 통해서 보실 수 있습니다.
